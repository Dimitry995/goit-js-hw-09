{"mappings":"YAAA,IAAMA,EAAO,CACTC,YAAaC,SAASC,cAAc,oBACpCC,cAAeF,SAASC,cAAc,gBACtCE,OAAQH,SAASC,cAAc,eAC/BG,QAASJ,SAASC,cAAc,gBAChCI,UAAWL,SAASC,cAAc,kBAClCK,UAAWN,SAASC,cAAc,mBAE9BM,EAAU,CACdC,YAAY,EACZC,WAAW,EACXC,YAAa,IAAIC,KACjBC,gBAAiB,EACjBC,QAAA,SAAQC,IASV,SAAqBA,GACfA,GAAiBH,KAAKI,MAExBC,SAASC,OAAOC,QAAQ,uCAExBpB,EAAKI,cAAciB,gBAAgB,WAAY,YAInD,SAAwBL,GACtB,IAAIM,EAAiBT,KAAKU,MAAMP,GAAiBH,KAAKI,MAClDO,EAAgBC,EAAUH,GAC9BtB,EAAKI,cAAcsB,iBAAiB,SAAS,WAC3C1B,EAAKI,cAAcuB,aAAa,WAAY,YAC5C3B,EAAKC,YAAY0B,aAAa,WAAY,YAC1CC,EAASC,aAAY,WACfP,GAAkB,EACpBQ,cAAcF,IAGhBJ,EAAgBC,EAAUH,GAC1BtB,EAAKK,OAAO0B,YAAcC,EAAeR,EAAcS,MACvDjC,EAAKM,QAAQyB,YAAcC,EAAeR,EAAcU,OACxDlC,EAAKO,UAAUwB,YAAcC,EAAeR,EAAcW,SAC1DnC,EAAKQ,UAAUuB,YAAcC,EAAeR,EAAcY,SAC1Dd,GAAkBe,E,GACjBA,E,IApBHC,CAAetB,G,CAdfuB,CAAYvB,EAAc,G,GAGnBwB,UAAU,mBAAoB/B,GACzCT,EAAKI,cAAcuB,aAAa,WAAY,YAC5C,IAAIC,EAAS,KACPS,EAAW,IA+BjB,SAASL,EAAeS,GACtB,OAAOA,EAAMC,WAAWC,SAAS,EAAG,I,CAEtC,SAASlB,EAAUmB,GACjB,IACMC,EAASC,IACTC,EAAOF,KACPG,EAAa,GAAPD,EAKZ,MAAO,CAAEd,KAJIgB,KAAKC,MAAMN,EAAKI,GAIdd,MAHDe,KAAKC,MAAMN,EAAMI,EAAOD,GAGhBZ,QAFNc,KAAKC,MAAMN,EAAOI,EAAOD,EAAQF,GAElBT,QADfa,KAAKC,MAAMN,EAAQI,EAAOD,EAAQF,EAPnC,K","sources":["src/js/02-timer.js"],"sourcesContent":["const refs = {\n    inputDateEl: document.querySelector('#datetime-picker'),\n    buttonStartEl: document.querySelector('[data-start]'),\n    daysEl: document.querySelector('[data-days]'),\n    hoursEl: document.querySelector('[data-hours]'),\n    minutesEl: document.querySelector('[data-minutes]'),\n    secondsEl: document.querySelector('[data-seconds]'),\n  };\n  const options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      onInputDate(selectedDates[0]);\n    },\n  };\n  const fp = flatpickr('#datetime-picker', options);\n  refs.buttonStartEl.setAttribute('disabled', 'disabled');\n  let timeId = null;\n  const INTERVAL = 1000;\n  /** functions */\n  function onInputDate(selectedDates) {\n    if (selectedDates <= Date.now()) {\n      // alert('Please choose a date in the future');\n      Notiflix.Notify.failure('Please choose a date in the future');\n    } else {\n      refs.buttonStartEl.removeAttribute('disabled', 'disabled');\n      onStartedTimer(selectedDates);\n    }\n  }\n  function onStartedTimer(selectedDates) {\n    let timerValueInMs = Date.parse(selectedDates) - Date.now();\n    let objTimerValue = convertMs(timerValueInMs);\n    refs.buttonStartEl.addEventListener('click', () => {\n      refs.buttonStartEl.setAttribute('disabled', 'disabled');\n      refs.inputDateEl.setAttribute('disabled', 'disabled');\n      timeId = setInterval(() => {\n        if (timerValueInMs <= 0) {\n          clearInterval(timeId);\n          return;\n        }\n        objTimerValue = convertMs(timerValueInMs);\n        refs.daysEl.textContent = addLeadingZero(objTimerValue.days);\n        refs.hoursEl.textContent = addLeadingZero(objTimerValue.hours);\n        refs.minutesEl.textContent = addLeadingZero(objTimerValue.minutes);\n        refs.secondsEl.textContent = addLeadingZero(objTimerValue.seconds);\n        timerValueInMs -= INTERVAL;\n      }, INTERVAL);\n    });\n  }\n  function addLeadingZero(value) {\n    return value.toString().padStart(2, '0');\n  }\n  function convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n    return { days, hours, minutes, seconds };\n  }\n  "],"names":["$84b9dae4df53835d$var$refs","inputDateEl","document","querySelector","buttonStartEl","daysEl","hoursEl","minutesEl","secondsEl","$84b9dae4df53835d$var$options","enableTime","time_24hr","defaultDate","Date","minuteIncrement","onClose","selectedDates","now","Notiflix","Notify","failure","removeAttribute","timerValueInMs","parse","objTimerValue","$84b9dae4df53835d$var$convertMs","addEventListener","setAttribute","$84b9dae4df53835d$var$timeId","setInterval","clearInterval","textContent","$84b9dae4df53835d$var$addLeadingZero","days","hours","minutes","seconds","$84b9dae4df53835d$var$INTERVAL","$84b9dae4df53835d$var$onStartedTimer","$84b9dae4df53835d$var$onInputDate","flatpickr","value","toString","padStart","ms","minute","second","hour","day","Math","floor"],"version":3,"file":"02-timer.b76a2c5b.js.map"}